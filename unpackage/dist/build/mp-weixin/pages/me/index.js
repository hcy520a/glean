(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/me/index"],{"54fc":function(e,n,t){"use strict";t.r(n);var r=t("e0b7"),o=t.n(r);for(var u in r)"default"!==u&&function(e){t.d(n,e,(function(){return r[e]}))}(u);n["default"]=o.a},7287:function(e,n,t){"use strict";var r=t("a97e"),o=t.n(r);o.a},a97e:function(e,n,t){},b1c9:function(e,n,t){"use strict";t.r(n);var r=t("e360"),o=t("54fc");for(var u in o)"default"!==u&&function(e){t.d(n,e,(function(){return o[e]}))}(u);t("7287");var a,f=t("f0c5"),c=Object(f["a"])(o["default"],r["b"],r["c"],!1,null,"47a121ba",null,!1,r["a"],a);n["default"]=c.exports},df64:function(e,n,t){"use strict";(function(e){t("de69"),t("a9ff");r(t("66fd"));var n=r(t("b1c9"));function r(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t("543d")["createPage"])},e0b7:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=c(t("a34a")),o=f(t("3358")),u=t("75da");function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a();if(n&&n.has(e))return n.get(e);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=r?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(t,o,u):t[o]=e[o]}return t.default=e,n&&n.set(e,t),t}function c(e){return e&&e.__esModule?e:{default:e}}function s(e,n,t,r,o,u,a){try{var f=e[u](a),c=f.value}catch(s){return void t(s)}f.done?n(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var u=e.apply(n,t);function a(e){s(u,r,o,a,f,"next",e)}function f(e){s(u,r,o,a,f,"throw",e)}a(void 0)}))}}var l={data:function(){return{userType:null,userInfo:{},otherInfo:[],navs:(0,u.getNavList)()}},onLoad:function(){this.userInfo=e.getStorageSync("userInfo")||getApp().globalData.userInfo,1==this.userInfo.userType?this.otherInfo=(0,u.getStudentList)():this.otherInfo=(0,u.getTeacherList)()},methods:{isUserType:function(){var n=this;this.userInfo.nickName||e.showModal({title:"登录用户类型",content:"一旦选择，不可更改",confirmText:"学生",cancelText:"教师",confirmColor:"#0099ff",cancelColor:"#ff0000",success:function(e){e.confirm?(n.userType=1,n.wxlogin()):(n.userType=2,n.wxlogin())}})},toPage:function(n){0===n&&this.updateUserInfo(),3===n&&(e.clearStorageSync(),getApp().globalData.userInfo={},this.userInfo={})},wxlogin:function(){var n=this;return i(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.login({provider:"weixin",success:function(e){var t=e.code;o.call({name:"login",data:{code:t,userType:n.userType},success:function(e){console.log(e.result),n.userInfo=e.result,n.$setGlobalCache(n.userInfo,"userInfo"),n.$setGlobalCache(n.userInfo.token,"token"),1==n.userInfo.userType?n.otherInfo=(0,u.getStudentList)():n.otherInfo=(0,u.getTeacherList)()}})}});case 1:case"end":return t.stop()}}),t)})))()},updateUserInfo:function(){var n=this;e.getUserProfile({desc:"展示用户信息",lang:"zh_CN",success:function(e){console.log(e),n.userInfo=Object.assign(n.userInfo,e.userInfo),n.$setGlobalCache(n.userInfo,"userInfo"),n.$setGlobalCache(n.userInfo.token,"token"),o.call({name:"updateUserInfo",data:{userInfo:n.userInfo}})}})}}};n.default=l}).call(this,t("543d")["default"])},e360:function(e,n,t){"use strict";var r;t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return u})),t.d(n,"a",(function(){return r}));var o=function(){var e=this,n=e.$createElement;e._self._c},u=[]}},[["df64","common/runtime","common/vendor"]]]);